"""
提示模板模块
包含所有AI提取相关的提示模板
"""

# 基本提取模板
EXTRACTION_PROMPT_TEMPLATE = """
你是一个专业的需求文档分析专家，请仔细分析以下文档内容，提取出所有需求章节。

文档是一个软件需求规格说明，通常包含以下章节结构：
1. 基本信息（包含软件特性、概述、变更背景等）
2. 依据文件
3. 变更来源及其影响分析
   3.1 需求变更及其影响分析
      3.1.1 具体需求点1
      3.1.2 具体需求点2
      ...
   3.2 设计变更及其影响分析
      3.2.1 具体设计变更1
      ...

我需要你特别关注第3章中的需求点（即3.1.x）和设计变更（即3.2.x），这些是文档中的核心需求内容。

以下是文档的一部分内容：
---
{0}
---

请按照以下JSON格式返回你识别到的需求章节：
```json
{{
  "chapters": [
    {{
      "chapter_number": "3.1.1",
      "title": "需求点标题",
      "content": "完整的需求内容，包括依据、标识号、说明等",
      "type": "requirement"
    }},
    {{
      "chapter_number": "3.1.2",
      "title": "另一个需求点标题",
      "content": "完整的需求内容",
      "type": "requirement"
    }}
  ]
}}
```

只提取3.1.x和3.2.x级别的章节，不要包含更高级别的章节概述。确保提取完整的需求内容，包括依据、标识号、说明等字段。
请确保章节内容不要相互包含或重叠。
"""

# 续取提取模板
CONTINUATION_PROMPT_TEMPLATE = """
你是一个专业的需求文档分析专家，请仔细分析以下文档内容，继续提取所有需求章节。

文档是一个软件需求规格说明，包含第3章下的各类需求。上一次提取已经完成了章节"{0}"，请从下一个章节开始提取，不要重复提取已处理的内容。

以下是文档的一部分内容：
---
{1}
---

请按照以下JSON格式返回你识别到的需求章节：
```json
{{
  "chapters": [
    {{
      "chapter_number": "3.1.x",
      "title": "需求点标题",
      "content": "完整的需求内容，包括依据、标识号、说明等",
      "type": "requirement"
    }}
  ]
}}
```

只提取3.1.x和3.2.x级别的章节，不要包含更高级别的章节概述。确保提取完整的需求内容，包括依据、标识号、说明等字段。
请确保章节内容不要相互包含或重叠。请勿重复提取之前已处理的章节。
"""

# 特定需求提取模板
SPECIFIC_REQUIREMENT_PROMPT_TEMPLATE = """
你是一个专业的需求文档分析专家，请从以下文档内容中找出并提取有关"{0}"的全部内容。

这个需求可能以"3.1.x"或"3.2.x"格式的章节标号开头（例如"3.1.2 新增目标动态优先级调整机制"），
也可能没有明确的章节标号，但内容与"{0}"直接相关。

请提取该需求的完整内容，包括依据、标识号、说明等全部相关内容。

以下是文档的一部分内容：
---
{1}
---

请按照以下JSON格式返回你找到的需求内容：
```json
{{
  "requirement": {{
    "title": "需求的完整标题",
    "content": "需求的全部内容，包括依据、标识号、说明等"
  }}
}}
```

如果在当前文档片段中没有找到相关内容，请返回空内容，但保持JSON格式完整。
"""

# 特定需求续取模板
SPECIFIC_CONTINUATION_PROMPT_TEMPLATE = """
你是一个专业的需求文档分析专家，请继续从以下文档内容中找出并提取有关"{0}"的全部内容。

上一段内容中已经找到了部分相关信息，但可能不完整。请注意查找完整的需求描述，包括依据、标识号、说明等字段。

这个需求可能以"3.1.x"或"3.2.x"格式的章节标号开头，也可能没有明确的章节标号。
但内容会与"{0}"直接相关。

以下是文档的另一部分内容：
---
{1}
---

请按照以下JSON格式返回你找到的需求内容：
```json
{{
  "requirement": {{
    "title": "需求的完整标题",
    "content": "需求的全部内容，包括依据、标识号、说明等"
  }}
}}
```

如果在当前文档片段中找到了完整或部分相关内容，请返回。
如果没有找到相关内容，请返回空内容，但保持JSON格式完整。
"""
